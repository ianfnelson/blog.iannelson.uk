<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Posts | Ian Nelson</title>
<meta name="keywords" content="">
<meta name="description" content="Posts - Ian Nelson">
<meta name="author" content="">
<link rel="canonical" href="https://bloghugo.iannelson.uk/posts/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.507965cef202c8ad6ac74222b0ed770dc0aaeab2c82c87ebdbd46b4f8b3196e2.css" integrity="sha256-UHllzvICyK1qx0IisO13DcCq6rLILIfr29RrT4sxluI=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://bloghugo.iannelson.uk/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://bloghugo.iannelson.uk/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://bloghugo.iannelson.uk/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://bloghugo.iannelson.uk/apple-touch-icon.png">
<link rel="mask-icon" href="https://bloghugo.iannelson.uk/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://bloghugo.iannelson.uk/posts/index.xml">
<link rel="alternate" hreflang="en" href="https://bloghugo.iannelson.uk/posts/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-5JMKSPFQKQ"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-5JMKSPFQKQ');
        }
      </script><meta property="og:url" content="https://bloghugo.iannelson.uk/posts/">
  <meta property="og:site_name" content="Ian Nelson">
  <meta property="og:title" content="Posts">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Posts">
<meta name="twitter:description" content="">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://bloghugo.iannelson.uk/posts/"
    }
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://bloghugo.iannelson.uk/" accesskey="h" title="Ian Nelson (Alt + H)">Ian Nelson</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://bloghugo.iannelson.uk/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://bloghugo.iannelson.uk/categories" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://bloghugo.iannelson.uk/testimonials" title="Testimonials">
                    <span>Testimonials</span>
                </a>
            </li>
            <li>
                <a href="https://familytree.iannelson.uk" title="Family Tree">
                    <span>Family Tree</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header">
  <h1>
    Posts
  </h1>
</header>

<article class="post-entry"> 
<figure class="entry-cover">
        <img loading="lazy" src="https://cdn.iannelson.uk/uploads/2012/09/8024299362_317f27a60d_o-1.jpg" alt="">
</figure>
  <header class="entry-header">
    <h2 class="entry-hint-parent">Matthew Henry Nelson
    </h2>
  </header>
  <div class="entry-content">
    <p>Proudly presenting a new addition to the family ‚Äì Mr Matthew Henry Nelson:
He arrived at 0624 local time on the morning of Saturday 1st September, and weighed in at 7 pounds 6 ounces. This was 17 days sooner than expected, and his early arrival literally caught his Daddy napping ‚Äì while Jocelyn was giving birth in York, I was sleeping soundly in a Reading Novotel ahead of the DDD10 conference. Needless to say, when I woke to find eight missed calls, a voicemail, text message, and even posts on my FaceBook wall trying to alert me to Matthew‚Äôs imminent arrival, I decided to give the conference a miss and head quickly back up the M1.
...</p>
  </div>
  <footer class="entry-footer"><span title='2012-09-26 19:09:00 +0000 +0000'>26 September 2012</span></footer>
  <a class="entry-link" aria-label="post link to Matthew Henry Nelson" href="https://bloghugo.iannelson.uk/matthew-henry-nelson/"></a>
</article>

<article class="post-entry"> 
<figure class="entry-cover">
        <img loading="lazy" src="https://cdn.iannelson.uk/uploads/2012/03/ian_on_a_card-1.jpg" alt="">
</figure>
  <header class="entry-header">
    <h2 class="entry-hint-parent">Available Again For Contract Work
    </h2>
  </header>
  <div class="entry-content">
    <p>Are you plagued by bad code smells? {#are-you-plagued-by-bad-code-smells} Troubled by slow-running database queries and ETL routines? {#troubled-by-slow-running-database-queries-and-etl-routines} In need of some scalable and maintainable enterprise integration solutions? {#in-need-of-some-scalable-and-maintainable-enterprise-integration-solutions} ...</p>
  </div>
  <footer class="entry-footer"><span title='2012-03-12 08:03:00 +0000 GMT'>12 March 2012</span></footer>
  <a class="entry-link" aria-label="post link to Available Again For Contract Work" href="https://bloghugo.iannelson.uk/available-again-for-contract-work/"></a>
</article>

<article class="post-entry"> 
<figure class="entry-cover">
        <img loading="lazy" src="https://cdn.iannelson.uk/uploads/2012/01/IMG_7069_edited_1-1.jpg" alt="">
</figure>
  <header class="entry-header">
    <h2 class="entry-hint-parent">A Personal Stack Overflow Milestone
    </h2>
  </header>
  <div class="entry-content">
    <p>In the grand scheme of things, ‚Äôtis but a minor achievement, but I was quite chuffed with myself this evening when my Stack Overflow reputation finally reached the 10,000 mark:
My girls made me a special ‚Äú10K‚Äù cake to celebrate üôÇ
Kudos to Jeff, Joel and the team for creating a site that I have found engaging, entertaining and very useful for the last 3 years and 4 months.
...</p>
  </div>
  <footer class="entry-footer"><span title='2012-01-04 21:01:00 +0000 GMT'>4 January 2012</span></footer>
  <a class="entry-link" aria-label="post link to A Personal Stack Overflow Milestone" href="https://bloghugo.iannelson.uk/a-personal-stack-overflow-milestone/"></a>
</article>

<article class="post-entry"> 
<figure class="entry-cover">
        <img loading="lazy" src="https://cdn.iannelson.uk/uploads/2011/09/bamboo-1.jpg" alt="">
</figure>
  <header class="entry-header">
    <h2 class="entry-hint-parent">Wacom Bamboo
    </h2>
  </header>
  <div class="entry-content">
    <p>Almost everyone who has wandered past the various desks that I‚Äôve occupied over the last year has passed comment on my Wacom Bamboo Pen Graphics Tablet. So, let me say a few words about my experiences with that.
For the longest time, I had been perfectly content to use various Logitech VX / MX mouses as my secondary input device, occasionally using a Microsoft Arc Mouse (very convenient to carry around in my rucksack).
...</p>
  </div>
  <footer class="entry-footer"><span title='2011-09-13 10:09:00 +0000 +0000'>13 September 2011</span></footer>
  <a class="entry-link" aria-label="post link to Wacom Bamboo" href="https://bloghugo.iannelson.uk/wacom-bamboo/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Schoolboy Error Of The Day
    </h2>
  </header>
  <div class="entry-content">
    <p>This dumb mistake just cost me an hour spelunking around in the debugger:
(where source is e.g. ‚Äúhttp://foo.com/status/all-is-good‚Äú)
Fortunately the ramifications were picked up in the acceptance tests, but the root cause wasn‚Äôt at all obvious from such a high level.
Lesson for the day ‚Äì code is never too trivial to warrant unit testing.
</p>
  </div>
  <footer class="entry-footer"><span title='2011-08-17 08:08:00 +0000 +0000'>17 August 2011</span></footer>
  <a class="entry-link" aria-label="post link to Schoolboy Error Of The Day" href="https://bloghugo.iannelson.uk/schoolboy-error-of-the-day/"></a>
</article>

<article class="post-entry"> 
<figure class="entry-cover">
        <img loading="lazy" src="https://cdn.iannelson.uk/uploads/2011/04/JamesBirrell_2-1.png" alt="">
</figure>
  <header class="entry-header">
    <h2 class="entry-hint-parent">It&#39;s A Small World
    </h2>
  </header>
  <div class="entry-content">
    <p>It‚Äôs been a long time since I posted a blog entry tagged with ‚Äúgenealogy‚Äù (over three years, in fact). I find it to be a hobby that I pursue in fits and starts ‚Äì periods of all-encompassing obsession followed by long periods of total inactivity. But the old Family Tree has been fleshed out nicely since I last updated you, dear reader. It has also acquired a most surprising and welcome addition.
...</p>
  </div>
  <footer class="entry-footer"><span title='2011-04-09 19:04:00 +0000 +0000'>9 April 2011</span></footer>
  <a class="entry-link" aria-label="post link to It&#39;s A Small World" href="https://bloghugo.iannelson.uk/its-a-small-world/"></a>
</article>

<article class="post-entry"> 
<figure class="entry-cover">
        <img loading="lazy" src="https://cdn.iannelson.uk/uploads/2010/12/iStock_000004248715XSmall_3-1.jpg" alt="">
</figure>
  <header class="entry-header">
    <h2 class="entry-hint-parent">Enterprise Integration Anti-Patterns #2 ‚Äì Shared Assemblies
    </h2>
  </header>
  <div class="entry-content">
    <p>Having slain the beast that is Shared Database, the next dragon to appear on my Enterprise Integration horizon is Shared Assemblies. That is, the suggestion that Application A can leverage the functionality of Application B by simply adding references to B‚Äôs DLLs. After all, this potential for reuse is why we put our code in reusable assemblies in the first place, isn‚Äôt it..?!
...</p>
  </div>
  <footer class="entry-footer"><span title='2010-12-01 10:12:00 +0000 GMT'>1 December 2010</span></footer>
  <a class="entry-link" aria-label="post link to Enterprise Integration Anti-Patterns #2 ‚Äì Shared Assemblies" href="https://bloghugo.iannelson.uk/enterprise-integration-anti-patterns-2-shared-assemblies/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">NHibernate and Mapping Aggregates
    </h2>
  </header>
  <div class="entry-content">
    <p>A few days ago a friend emailed me the following question regarding NHibernate mappings for a solution he‚Äôs currently developing:
‚ÄúI have an idea entity that has a collection of comment entities and I need to get the comment count for each idea. I made a massive mistake at the beginning by calling idea.Comments.Count (even worse, I did it in the view!), which due to the collection being lazy-loaded caused about 10 database calls so performance was sluggish even with second level cache. I was therefore wondering how you would do it ‚Äì would you use HQL and use Comments.size or would you do something differently?‚Äù
...</p>
  </div>
  <footer class="entry-footer"><span title='2010-11-25 08:11:00 +0000 GMT'>25 November 2010</span></footer>
  <a class="entry-link" aria-label="post link to NHibernate and Mapping Aggregates" href="https://bloghugo.iannelson.uk/nhibernate-and-mapping-aggregates/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Enterprise Integration Anti-Patterns #1 ‚Äì The Shared Database
    </h2>
  </header>
  <div class="entry-content">
    <p>So, I was in the office at a client site, walking back to my desk after grabbing a quick coffee, when a developer on a sister product to my current project grabbed me and asked (I paraphrase somewhat):
‚ÄúHey, Ian ‚Äì [my app] needs to retrieve [small piece of data] from [your app], so I‚Äôve stuck a stored proc in [your database], OK?‚Äù
I felt quite violated. My poor app, what had it done to deserve this despicable treatment?
...</p>
  </div>
  <footer class="entry-footer"><span title='2010-11-08 05:11:00 +0000 GMT'>8 November 2010</span></footer>
  <a class="entry-link" aria-label="post link to Enterprise Integration Anti-Patterns #1 ‚Äì The Shared Database" href="https://bloghugo.iannelson.uk/enterprise-integration-anti-patterns-1-the-shared-database/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">MVC ‚Äì Where To Put Business Logic?
    </h2>
  </header>
  <div class="entry-content">
    <p>I just had an email from a friend asking where business logic should go when using MVC ‚Äì the controller or the model.
I thought I‚Äôd share my reply:
I think asking whether the business logic should go in the Model or the Controller is a false dichotomy. There are different kinds of business logic, and there‚Äôs also the possibility of putting it somewhere else entirely.
Much business logic does indeed belong in the model, particularly stuff like encapsulating calculations and projections, adding meaning to raw data properties, and ensuring domain objects are maintained in a valid state. I see this as the traditional side of OO design ‚Äì encapsulating logic and restricting accessibility.
...</p>
  </div>
  <footer class="entry-footer"><span title='2010-11-03 12:11:00 +0000 GMT'>3 November 2010</span></footer>
  <a class="entry-link" aria-label="post link to MVC ‚Äì Where To Put Business Logic?" href="https://bloghugo.iannelson.uk/mvc-where-to-put-business-logic/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Testing IoC Registrations
    </h2>
  </header>
  <div class="entry-content">
    <p>When I first started writing automated unit tests for my code, I remember getting carried away writing lots of tiny little tests, each with a single Assert. It felt good initially to see all those green ticks, but rapidly became a maintenance headache, and I am now happier having fewer less-brittle tests that do more.
I think it‚Äôs great when tools like AutoMapper provide powerful methods like‚Ä¶
‚Ä¶allowing me to test large swathes of the system configuration with a single, stable test.
...</p>
  </div>
  <footer class="entry-footer"><span title='2010-04-09 14:04:00 +0000 +0000'>9 April 2010</span></footer>
  <a class="entry-link" aria-label="post link to Testing IoC Registrations" href="https://bloghugo.iannelson.uk/testing-ioc-registrations/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Testing LINQ Queries
    </h2>
  </header>
  <div class="entry-content">
    <p>I‚Äôve been asked ‚ÄúHow do you test LINQ queries?‚Äù a couple of times in the past few months, so I thought I‚Äôd blog my answer for the benefit of all you lovely people.
Firstly I should explain how I‚Äôve been doing most of my data access in recent months. I find that the Repository pattern, and particularly the .NET implementation described here by Fabio Maulo meets the vast majority of requirements I have in my applications, and I fall back on additionally using custom DAOs when required.
...</p>
  </div>
  <footer class="entry-footer"><span title='2010-04-09 13:04:00 +0000 +0000'>9 April 2010</span></footer>
  <a class="entry-link" aria-label="post link to Testing LINQ Queries" href="https://bloghugo.iannelson.uk/testing-linq-queries/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">WCF ‚Äì Global Exception Handling
    </h2>
  </header>
  <div class="entry-content">
    <p>I‚Äôve done a fair bit of WCF development recently (and amazingly I came out of it relatively unscathed, both psychologically and emotionally). Using Castle Windsor‚Äôs WCF Facility helped a great deal, but I still found myself writing a fair bit of infrastructure and plumbing code. I thought I‚Äôd blog some of these code snippets lest I forget, and on the offchance they might help others.
One of the things I wanted to achieve was to ensure that any unhandled exceptions that propagated to the top of the stack were logged. The following custom EndpointBehavior achieves that. I‚Äôm using Castle Logging Facility here, but you could of course swap out the logging code for whatever error handling code you require.
...</p>
  </div>
  <footer class="entry-footer"><span title='2010-04-09 13:04:00 +0000 +0000'>9 April 2010</span></footer>
  <a class="entry-link" aria-label="post link to WCF ‚Äì Global Exception Handling" href="https://bloghugo.iannelson.uk/wcf-global-exception-handling/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">WCF ‚Äì Logging Before and After Operation Invocation
    </h2>
  </header>
  <div class="entry-content">
    <p>Here‚Äôs another custom WCF EndpointBehavior I found useful recently.
Not content with logging all unhandled errors, I wanted to output a DEBUG level log message before and after every operation invocation. As before, I‚Äôm using the Castle Windsor Logging Facility to handle my logging, but you can swap that out for your logger of choice if required.
Firstly, here‚Äôs the EndPointBehaviour itself. This adds a custom CallContextInitializer to every service operation:
...</p>
  </div>
  <footer class="entry-footer"><span title='2010-04-09 13:04:00 +0000 +0000'>9 April 2010</span></footer>
  <a class="entry-link" aria-label="post link to WCF ‚Äì Logging Before and After Operation Invocation" href="https://bloghugo.iannelson.uk/wcf-logging-before-and-after-operation-invocation/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">WCF ‚Äì NHibernate Unit Of Work Endpoint Behavior
    </h2>
  </header>
  <div class="entry-content">
    <p>OK, my last WCF-related code snippet of the day, I promise. This is quite similar to the last one. I required that the WCF service I was developing started a new NHibernate Session for each invocation, and closed it after invocation (i.e. session-per-request). I couldn‚Äôt rely on the ASP.NET session start and end events in global.asax as this particular WCF service was to respond to MSMQ messages rather than HTTP.
...</p>
  </div>
  <footer class="entry-footer"><span title='2010-04-09 13:04:00 +0000 +0000'>9 April 2010</span></footer>
  <a class="entry-link" aria-label="post link to WCF ‚Äì NHibernate Unit Of Work Endpoint Behavior" href="https://bloghugo.iannelson.uk/wcf-nhibernate-unit-of-work-endpoint-behavior/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://bloghugo.iannelson.uk/posts/page/2/">
      ¬´&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="https://bloghugo.iannelson.uk/posts/page/4/">Next&nbsp;&nbsp;¬ª
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://bloghugo.iannelson.uk/">Ian Nelson</a></span> ¬∑ 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
