<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>How to Install RabbitMQ Server in Docker on a Synology NAS | Ian Nelson</title>
<meta name="keywords" content="Docker, Synology, RabbitMQ">
<meta name="description" content="One of the game-changing features of Synology‘s NAS (Network-Attached Storage) devices is their ability to run Docker, the industry-standard containerization technology. This opens up the possibility of running all kinds of applications on the NAS, turning them into home servers with boundless possibilities.
One of things I wanted to run on my own Synology NAS is RabbitMQ, the popular open-source message broker. I intend to use this as the heart of a distributed home climate measuring project, with a bunch of low-cost Raspberry Pi devices sending regular sensor readings to a database, or directly to a real-time web application.">
<meta name="author" content="">
<link rel="canonical" href="https://blog.iannelson.uk/how-to-install-rabbitmq-server-in-docker-on-a-synology-nas/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.507965cef202c8ad6ac74222b0ed770dc0aaeab2c82c87ebdbd46b4f8b3196e2.css" integrity="sha256-UHllzvICyK1qx0IisO13DcCq6rLILIfr29RrT4sxluI=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://blog.iannelson.uk/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://blog.iannelson.uk/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://blog.iannelson.uk/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://blog.iannelson.uk/apple-touch-icon.png">
<link rel="mask-icon" href="https://blog.iannelson.uk/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://blog.iannelson.uk/how-to-install-rabbitmq-server-in-docker-on-a-synology-nas/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-5JMKSPFQKQ"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-5JMKSPFQKQ');
        }
      </script><meta property="og:url" content="https://blog.iannelson.uk/how-to-install-rabbitmq-server-in-docker-on-a-synology-nas/">
  <meta property="og:site_name" content="Ian Nelson">
  <meta property="og:title" content="How to Install RabbitMQ Server in Docker on a Synology NAS">
  <meta property="og:description" content="One of the game-changing features of Synology‘s NAS (Network-Attached Storage) devices is their ability to run Docker, the industry-standard containerization technology. This opens up the possibility of running all kinds of applications on the NAS, turning them into home servers with boundless possibilities.
One of things I wanted to run on my own Synology NAS is RabbitMQ, the popular open-source message broker. I intend to use this as the heart of a distributed home climate measuring project, with a bunch of low-cost Raspberry Pi devices sending regular sensor readings to a database, or directly to a real-time web application.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2020-01-25T23:46:56+00:00">
    <meta property="article:modified_time" content="2025-05-05T20:18:53+01:00">
    <meta property="article:tag" content="Docker">
    <meta property="article:tag" content="Synology">
    <meta property="article:tag" content="RabbitMQ">
    <meta property="og:image" content="https://blogstouks01.z33.web.core.windows.net/2020/01/2020-01-13_21-25-45-1.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://blogstouks01.z33.web.core.windows.net/2020/01/2020-01-13_21-25-45-1.png">
<meta name="twitter:title" content="How to Install RabbitMQ Server in Docker on a Synology NAS">
<meta name="twitter:description" content="One of the game-changing features of Synology‘s NAS (Network-Attached Storage) devices is their ability to run Docker, the industry-standard containerization technology. This opens up the possibility of running all kinds of applications on the NAS, turning them into home servers with boundless possibilities.
One of things I wanted to run on my own Synology NAS is RabbitMQ, the popular open-source message broker. I intend to use this as the heart of a distributed home climate measuring project, with a bunch of low-cost Raspberry Pi devices sending regular sensor readings to a database, or directly to a real-time web application.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://blog.iannelson.uk/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How to Install RabbitMQ Server in Docker on a Synology NAS",
      "item": "https://blog.iannelson.uk/how-to-install-rabbitmq-server-in-docker-on-a-synology-nas/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How to Install RabbitMQ Server in Docker on a Synology NAS",
  "name": "How to Install RabbitMQ Server in Docker on a Synology NAS",
  "description": "One of the game-changing features of Synology‘s NAS (Network-Attached Storage) devices is their ability to run Docker, the industry-standard containerization technology. This opens up the possibility of running all kinds of applications on the NAS, turning them into home servers with boundless possibilities.\nOne of things I wanted to run on my own Synology NAS is RabbitMQ, the popular open-source message broker. I intend to use this as the heart of a distributed home climate measuring project, with a bunch of low-cost Raspberry Pi devices sending regular sensor readings to a database, or directly to a real-time web application.\n",
  "keywords": [
    "Docker", "Synology", "RabbitMQ"
  ],
  "articleBody": "One of the game-changing features of Synology‘s NAS (Network-Attached Storage) devices is their ability to run Docker, the industry-standard containerization technology. This opens up the possibility of running all kinds of applications on the NAS, turning them into home servers with boundless possibilities.\nOne of things I wanted to run on my own Synology NAS is RabbitMQ, the popular open-source message broker. I intend to use this as the heart of a distributed home climate measuring project, with a bunch of low-cost Raspberry Pi devices sending regular sensor readings to a database, or directly to a real-time web application.\nHere’s how to go about installing RabbitMQ on a Synology NAS, as of January 2020. The whole process should only take around 15-30 minutes at most.\nFirst, open up Package Center and search for the free Third-Party Docker package. If it’s not already installed, go ahead and Install it, otherwise Open it.\nWithin the Docker package, we need to search the Registry for the rabbitmq image. Look for the image with the “Official Image” icon next to it, which should be near the top of the search results.\nChoose a tag to install. I recommend selecting a recent build with the “management” suffix – these tags have the RabbitMQ management plugin installed and enabled by default, which is available on the standard management port of 15672.\nAfter the Docker image has downloaded to the NAS, select it from the list of images on the Image tab, and click Launch to create a new container from that image.\nGive the new container a suitable name (rabbitmq seems the obvious choice), and then click the Advanced settings button.\nCheck Enable auto-restart so that the container automatically restarts, should it stop for any reason.\nContainers should generally be treated as being replaceable, with any data that you care about being kept outside of the container. To this end, create a folder on the NAS that can be used as a volume for the /var/lib/rabbitmq mount path. This ensures all the data from the RabbitMQ instance exists outside of the container itself and won’t be lost if the container needs to be destroyed and recreated for any reason (such as upgrading to a new version of RabbitMQ). I also suggest creating a blank RabbitMQ config file – rabbitmq.conf – and mounting this file to the path /etc/rabbitmq/rabbitmq.conf .\nRabbitMQ with the management plugin enabled uses ports 4369, 5671, 5672, 15671, 15672 and 25672. There’s a low probability of these ports already being in use by other applications on the NAS, so map those container ports to the same local ports.\nCheck the Environment variables tab. The defaults should be fine; you may wish to specify a particular node name – this can be done using the RABBITMQ_NODENAME environment variable\nThat’s it. Click Apply, and Apply again on the Summary screen.\nThe RabbitMQ docker container will start, and if everything has gone to plan, it should stay running and not restart. To check out the logs, select the container from the Container tab and click the Details button.\nFrom the details, click the Log tab. If startup has been successful, you will the “Server startup complete; 3 plugins started.” message as shown below. Otherwise, these logs should give a useful indication what has gone wrong.\nThe RabbitMQ mnesia folder will be initialized in the folder specified earlier as a mapped volume.\nThe RabbitMQ Management portal will be accessible through a web browser at port 15672 on your NAS’s hostname or IP address. But if you try to login using the default guest/guest credentials you will likely be met with the “User can only log in via localhost” message shown below. That’s not an option from the Synology NAS, which doesn’t have any web browser installed.\nThere are a couple of solutions to this quandary. The rabbitmq.conf file created earlier could be edited to allow the guest user to connect from a remote host by setting the loopback_users configuration to none – details here.\nAlternatively, the rabbitmqctl utility can be used to add a new user with administrator rights, as shown in the screenshot below.\nHaving done this, it will be possible to login to the RabbitMQ management console from a remote machine using the newly-created credentials.\nBoom! There we have it. RabbitMQ running in a Docker image, on a Synology NAS, with the management plugin accessible from the local network.\n",
  "wordCount" : "734",
  "inLanguage": "en",
  "image":"https://blogstouks01.z33.web.core.windows.net/2020/01/2020-01-13_21-25-45-1.png","datePublished": "2020-01-25T23:46:56Z",
  "dateModified": "2025-05-05T20:18:53+01:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://blog.iannelson.uk/how-to-install-rabbitmq-server-in-docker-on-a-synology-nas/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Ian Nelson",
    "logo": {
      "@type": "ImageObject",
      "url": "https://blog.iannelson.uk/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://blog.iannelson.uk/" accesskey="h" title="Ian Nelson (Alt + H)">Ian Nelson</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://blog.iannelson.uk/about" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://blog.iannelson.uk/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://blog.iannelson.uk/testimonials" title="Testimonials">
                    <span>Testimonials</span>
                </a>
            </li>
            <li>
                <a href="https://familytree.iannelson.uk" title="Family Tree">
                    <span>Family Tree</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      How to Install RabbitMQ Server in Docker on a Synology NAS
    </h1>
    <div class="post-meta"><span title='2020-01-25 23:46:56 +0000 GMT'>25 January 2020</span>

</div>
  </header> 
<figure class="entry-cover">
        <img loading="eager" src="https://blogstouks01.z33.web.core.windows.net/2020/01/2020-01-13_21-25-45-1.png" alt="">
        
</figure>
  <div class="post-content"><p>One of the game-changing features of <a href="https://www.synology.com">Synology</a>‘s NAS (Network-Attached Storage) devices is their ability to run <a href="https://www.docker.com/">Docker</a>, the industry-standard containerization technology. This opens up the possibility of running all kinds of applications on the NAS, turning them into home servers with boundless possibilities.</p>
<p>One of things I wanted to run on my own Synology NAS is <a href="https://www.rabbitmq.com/">RabbitMQ</a>, the popular open-source message broker. I intend to use this as the heart of a distributed home climate measuring project, with a bunch of low-cost Raspberry Pi devices sending regular sensor readings to a database, or directly to a real-time web application.</p>
<p>Here’s how to go about installing RabbitMQ on a Synology NAS, as of January 2020. The whole process should only take around 15-30 minutes at most.</p>
<p>First, open up Package Center and search for the free Third-Party Docker package. If it’s not already installed, go ahead and Install it, otherwise Open it.</p>
<p><img loading="lazy" src="https://blogstouks01.z33.web.core.windows.net/2023/08/2020-01-13_20-48-59-3.png"></p>
<p>Within the Docker package, we need to search the Registry for the rabbitmq image. Look for the image with the “Official Image” icon next to it, which should be near the top of the search results.</p>
<p><img loading="lazy" src="https://blogstouks01.z33.web.core.windows.net/2023/08/2020-01-13_20-50-09-1.png"></p>
<p>Choose a tag to install. I recommend selecting a recent build with the “management” suffix – these tags have the RabbitMQ management plugin installed and enabled by default, which is available on the standard management port of 15672.</p>
<p><img loading="lazy" src="https://blogstouks01.z33.web.core.windows.net/2023/08/2020-01-13_20-51-02.png"></p>
<p>After the Docker image has downloaded to the NAS, select it from the list of images on the Image tab, and click Launch to create a new container from that image.</p>
<p><img loading="lazy" src="https://blogstouks01.z33.web.core.windows.net/2023/08/2020-01-13_20-52-08.png"></p>
<p>Give the new container a suitable name (rabbitmq seems the obvious choice), and then click the Advanced settings button.</p>
<p><img loading="lazy" src="https://blogstouks01.z33.web.core.windows.net/2023/08/2020-01-13_20-52-43.png"></p>
<p>Check Enable auto-restart so that the container automatically restarts, should it stop for any reason.</p>
<p><img loading="lazy" src="https://blogstouks01.z33.web.core.windows.net/2023/08/2020-01-13_20-53-11-1.png"></p>
<p>Containers should generally be treated as being replaceable, with any data that you care about being kept outside of the container. To this end, create a folder on the NAS that can be used as a volume for the /var/lib/rabbitmq mount path. This ensures all the data from the RabbitMQ instance exists outside of the container itself and won’t be lost if the container needs to be destroyed and recreated for any reason (such as upgrading to a new version of RabbitMQ).
I also suggest creating a blank RabbitMQ config file – rabbitmq.conf – and mounting this file to the path /etc/rabbitmq/rabbitmq.conf .</p>
<p><img loading="lazy" src="https://blogstouks01.z33.web.core.windows.net/2023/08/2020-01-13_20-56-21.png"></p>
<p>RabbitMQ with the management plugin enabled uses ports 4369, 5671, 5672, 15671, 15672 and 25672. There’s a low probability of these ports already being in use by other applications on the NAS, so map those container ports to the same local ports.</p>
<p><img loading="lazy" src="https://blogstouks01.z33.web.core.windows.net/2023/08/1_2020-01-13_20-57-55.png"></p>
<p>Check the Environment variables tab. The defaults should be fine; you may wish to specify a particular <a href="https://www.rabbitmq.com/cli.html#node-names">node name</a> – this can be done using the RABBITMQ_NODENAME environment variable</p>
<p><img loading="lazy" src="https://blogstouks01.z33.web.core.windows.net/2023/08/2020-01-13_21-00-52.png"></p>
<p>That’s it. Click Apply, and Apply again on the Summary screen.</p>
<p><img loading="lazy" src="https://blogstouks01.z33.web.core.windows.net/2023/08/2020-01-13_21-01-13.png"></p>
<p>The RabbitMQ docker container will start, and if everything has gone to plan, it should stay running and not restart. To check out the logs, select the container from the Container tab and click the Details button.</p>
<p><img loading="lazy" src="https://blogstouks01.z33.web.core.windows.net/2023/08/2020-01-13_21-03-05.png"></p>
<p>From the details, click the Log tab. If startup has been successful, you will the “Server startup complete; 3 plugins started.” message as shown below. Otherwise, these logs should give a useful indication what has gone wrong.</p>
<p><img loading="lazy" src="https://blogstouks01.z33.web.core.windows.net/2023/08/2020-01-13_21-04-02-1.png"></p>
<p>The RabbitMQ mnesia folder will be initialized in the folder specified earlier as  a mapped volume.</p>
<p><img loading="lazy" src="https://blogstouks01.z33.web.core.windows.net/2023/08/2020-01-13_21-05-05.png"></p>
<p>The RabbitMQ Management portal will be accessible through a web browser at port 15672 on your NAS’s hostname or IP address. But if you try to login using the default guest/guest credentials you will likely be met with the “User can only log in via localhost” message shown below. That’s not an option from the Synology NAS, which doesn’t have any web browser installed.</p>
<p><img loading="lazy" src="https://blogstouks01.z33.web.core.windows.net/2023/08/2020-01-13_21-06-24-1.png"></p>
<p>There are a couple of solutions to this quandary. The rabbitmq.conf file created earlier could be edited to allow the guest user to connect from a remote host by setting the loopback_users configuration to none – <a href="https://www.rabbitmq.com/access-control.html#loopback-users">details here</a>.</p>
<p>Alternatively, the rabbitmqctl utility can be used to add a new user with administrator rights, as shown in the screenshot below.</p>
<p><img loading="lazy" src="https://blogstouks01.z33.web.core.windows.net/2023/08/2020-01-13_21-23-57.png"></p>
<p>Having done this, it will be possible to login to the RabbitMQ management console from a remote machine using the newly-created credentials.</p>
<p><img loading="lazy" src="https://blogstouks01.z33.web.core.windows.net/2023/08/2020-01-13_21-24-50.png"></p>
<p>Boom! There we have it. RabbitMQ running in a Docker image, on a Synology NAS, with the management plugin accessible from the local network.</p>
<p><img loading="lazy" src="https://blogstouks01.z33.web.core.windows.net/2023/08/2020-01-13_21-25-45.png"></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://blog.iannelson.uk/tags/docker/">Docker</a></li>
      <li><a href="https://blog.iannelson.uk/tags/synology/">Synology</a></li>
      <li><a href="https://blog.iannelson.uk/tags/rabbitmq/">RabbitMQ</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://blog.iannelson.uk/">Ian Nelson</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
