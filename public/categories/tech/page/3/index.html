<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Tech | Ian Nelson</title>
<meta name="keywords" content="">
<meta name="description" content="">
<meta name="author" content="">
<link rel="canonical" href="https://bloghugo.iannelson.uk/categories/tech/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css" integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF&#43;13Dyqob6ASlTrTye8=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://bloghugo.iannelson.uk/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://bloghugo.iannelson.uk/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://bloghugo.iannelson.uk/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://bloghugo.iannelson.uk/apple-touch-icon.png">
<link rel="mask-icon" href="https://bloghugo.iannelson.uk/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://bloghugo.iannelson.uk/categories/tech/index.xml">
<link rel="alternate" hreflang="en" href="https://bloghugo.iannelson.uk/categories/tech/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://bloghugo.iannelson.uk/categories/tech/">
  <meta property="og:site_name" content="Ian Nelson">
  <meta property="og:title" content="Tech">
  <meta property="og:locale" content="en-gb">
  <meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Tech">
<meta name="twitter:description" content="">

</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://bloghugo.iannelson.uk/" accesskey="h" title="Ian Nelson (Alt + H)">Ian Nelson</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header">
  <h1>
    Tech
  </h1>
</header>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">MVC – Where To Put Business Logic?
    </h2>
  </header>
  <div class="entry-content">
    <p>I just had an email from a friend asking where business logic should go when using MVC – the controller or the model.
I thought I’d share my reply:
I think asking whether the business logic should go in the Model or the Controller is a false dichotomy. There are different kinds of business logic, and there’s also the possibility of putting it somewhere else entirely.
Much business logic does indeed belong in the model, particularly stuff like encapsulating calculations and projections, adding meaning to raw data properties, and ensuring domain objects are maintained in a valid state. I see this as the traditional side of OO design – encapsulating logic and restricting accessibility.
...</p>
  </div>
  <footer class="entry-footer"><span title='2010-11-03 12:11:00 +0000 GMT'>November 3, 2010</span>&nbsp;·&nbsp;ian</footer>
  <a class="entry-link" aria-label="post link to MVC – Where To Put Business Logic?" href="https://bloghugo.iannelson.uk/mvc-where-to-put-business-logic/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Testing IoC Registrations
    </h2>
  </header>
  <div class="entry-content">
    <p>When I first started writing automated unit tests for my code, I remember getting carried away writing lots of tiny little tests, each with a single Assert. It felt good initially to see all those green ticks, but rapidly became a maintenance headache, and I am now happier having fewer less-brittle tests that do more.
I think it’s great when tools like AutoMapper provide powerful methods like…
…allowing me to test large swathes of the system configuration with a single, stable test.
...</p>
  </div>
  <footer class="entry-footer"><span title='2010-04-09 14:04:00 +0000 +0000'>April 9, 2010</span>&nbsp;·&nbsp;ian</footer>
  <a class="entry-link" aria-label="post link to Testing IoC Registrations" href="https://bloghugo.iannelson.uk/testing-ioc-registrations/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Testing LINQ Queries
    </h2>
  </header>
  <div class="entry-content">
    <p>I’ve been asked “How do you test LINQ queries?” a couple of times in the past few months, so I thought I’d blog my answer for the benefit of all you lovely people.
Firstly I should explain how I’ve been doing most of my data access in recent months. I find that the Repository pattern, and particularly the .NET implementation described here by Fabio Maulo meets the vast majority of requirements I have in my applications, and I fall back on additionally using custom DAOs when required.
...</p>
  </div>
  <footer class="entry-footer"><span title='2010-04-09 13:04:00 +0000 +0000'>April 9, 2010</span>&nbsp;·&nbsp;ian</footer>
  <a class="entry-link" aria-label="post link to Testing LINQ Queries" href="https://bloghugo.iannelson.uk/testing-linq-queries/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">WCF – Global Exception Handling
    </h2>
  </header>
  <div class="entry-content">
    <p>I’ve done a fair bit of WCF development recently (and amazingly I came out of it relatively unscathed, both psychologically and emotionally). Using Castle Windsor’s WCF Facility helped a great deal, but I still found myself writing a fair bit of infrastructure and plumbing code. I thought I’d blog some of these code snippets lest I forget, and on the offchance they might help others.
One of the things I wanted to achieve was to ensure that any unhandled exceptions that propagated to the top of the stack were logged. The following custom EndpointBehavior achieves that. I’m using Castle Logging Facility here, but you could of course swap out the logging code for whatever error handling code you require.
...</p>
  </div>
  <footer class="entry-footer"><span title='2010-04-09 13:04:00 +0000 +0000'>April 9, 2010</span>&nbsp;·&nbsp;ian</footer>
  <a class="entry-link" aria-label="post link to WCF – Global Exception Handling" href="https://bloghugo.iannelson.uk/wcf-global-exception-handling/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">WCF – Logging Before and After Operation Invocation
    </h2>
  </header>
  <div class="entry-content">
    <p>Here’s another custom WCF EndpointBehavior I found useful recently.
Not content with logging all unhandled errors, I wanted to output a DEBUG level log message before and after every operation invocation. As before, I’m using the Castle Windsor Logging Facility to handle my logging, but you can swap that out for your logger of choice if required.
Firstly, here’s the EndPointBehaviour itself. This adds a custom CallContextInitializer to every service operation:
...</p>
  </div>
  <footer class="entry-footer"><span title='2010-04-09 13:04:00 +0000 +0000'>April 9, 2010</span>&nbsp;·&nbsp;ian</footer>
  <a class="entry-link" aria-label="post link to WCF – Logging Before and After Operation Invocation" href="https://bloghugo.iannelson.uk/wcf-logging-before-and-after-operation-invocation/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">WCF – NHibernate Unit Of Work Endpoint Behavior
    </h2>
  </header>
  <div class="entry-content">
    <p>OK, my last WCF-related code snippet of the day, I promise. This is quite similar to the last one. I required that the WCF service I was developing started a new NHibernate Session for each invocation, and closed it after invocation (i.e. session-per-request). I couldn’t rely on the ASP.NET session start and end events in global.asax as this particular WCF service was to respond to MSMQ messages rather than HTTP.
...</p>
  </div>
  <footer class="entry-footer"><span title='2010-04-09 13:04:00 +0000 +0000'>April 9, 2010</span>&nbsp;·&nbsp;ian</footer>
  <a class="entry-link" aria-label="post link to WCF – NHibernate Unit Of Work Endpoint Behavior" href="https://bloghugo.iannelson.uk/wcf-nhibernate-unit-of-work-endpoint-behavior/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">An MVC Gotcha and the PRG Pattern
    </h2>
  </header>
  <div class="entry-content">
    <p>If you’ve recently moved across to ASP.NET MVC development following years of wrangling with the leaky abstraction that was WebForms, you may have encountered some seemingly curious behaviour when posting back to the same URL.
Suppose we have the following simple, contrived and utterly imagination-free model:
Here’s a view:
And here’s the controller:
Note that we have two separate Index actions – one for HTTP GET which instantiates and displays a new FooModel instance, and one for HTTP POST which modifies one of the properties on the posted FooModel instance before re-rendering the view.
...</p>
  </div>
  <footer class="entry-footer"><span title='2010-04-09 10:04:00 +0000 +0000'>April 9, 2010</span>&nbsp;·&nbsp;ian</footer>
  <a class="entry-link" aria-label="post link to An MVC Gotcha and the PRG Pattern" href="https://bloghugo.iannelson.uk/an-mvc-gotcha-and-the-prg-pattern/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">MoreLINQ – IEnumerable Extension From Jon Skeet
    </h2>
  </header>
  <div class="entry-content">
    <p>I’ve just become aware of this MoreLINQ project containing some neat IEnumerable extensions authored by the inimitable Jon Skeet.
I particularly like the look of DistinctBy – that’s gotta be a lot easier than passing custom instances of IEqualityComparer into Distinct().
Fun fact – I used to work with someone who went to school with Jon Skeet! True Story!
</p>
  </div>
  <footer class="entry-footer"><span title='2010-03-30 10:03:00 +0000 +0000'>March 30, 2010</span>&nbsp;·&nbsp;ian</footer>
  <a class="entry-link" aria-label="post link to MoreLINQ – IEnumerable Extension From Jon Skeet" href="https://bloghugo.iannelson.uk/morelinq-ienumerable-extension-from-jon-skeet/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">On the Inherent Negativity of Computer Programmers
    </h2>
  </header>
  <div class="entry-content">
    <p>A couple of weeks ago, early one morning, my friend and fellow coder Scott asked a curious question:
“Do you think that programming computers for a living gives you a negative outlook on life?”
Now, Scott is unfortunately responsible for administering occasional TLC to a codebase that I cut as long ago as 2004, so I assumed he was referring to this and was about to raise some complaints about my hand-rolled query object criteria framework or other coding horror. I steeled myself to defend my work as he continued to explain:
...</p>
  </div>
  <footer class="entry-footer"><span title='2010-02-01 20:02:00 +0000 GMT'>February 1, 2010</span>&nbsp;·&nbsp;ian</footer>
  <a class="entry-link" aria-label="post link to On the Inherent Negativity of Computer Programmers" href="https://bloghugo.iannelson.uk/on-the-inherent-negativity-of-computer-programmers/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Deduplication Fail
    </h2>
  </header>
  <div class="entry-content">
    <p>Oh, the irony!
</p>
  </div>
  <footer class="entry-footer"><span title='2009-12-02 12:12:00 +0000 GMT'>December 2, 2009</span>&nbsp;·&nbsp;ian</footer>
  <a class="entry-link" aria-label="post link to Deduplication Fail" href="https://bloghugo.iannelson.uk/deduplication-fail/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://bloghugo.iannelson.uk/categories/tech/page/2/">
      «&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="https://bloghugo.iannelson.uk/categories/tech/page/4/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://bloghugo.iannelson.uk/">Ian Nelson</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
